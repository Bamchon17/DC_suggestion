# Manday Calculation Pipeline

โปรเจกต์นี้เป็นระบบช่วยจับคู่ทักษะแรงงานกับงานก่อสร้าง, คำนวณจำนวนคนที่ต้องใช้, และอัปเดตสถานะพร้อม upload ข้อมูลไปยังฐานข้อมูล

## ภาพรวม
ระบบนี้ใช้ Python ร่วมกับ Gemini AI เพื่อ:
- จับคู่ทักษะของแรงงานกับงานก่อสร้าง
- คำนวณจำนวนแรงงานที่ต้องการจากมาตรฐานการทำงาน
- มอบหมายงานให้แรงงานและอัปเดตสถานะในฐานข้อมูล PostgreSQL

## โครงสร้างไฟล์หลัก
```bash
final_labour/
├── .venv: Virtual environment สำหรับจัดการ dependencies
├── core/
│   ├── manday_calculation/
│   │   ├── __init__.py: กำหนดการนำเข้าโมดูลและฟังก์ชัน
│   │   ├── __pycache__: เก็บไฟล์ไบนารีของโมดูลใน manday_calculation
│   │   ├── assignment.py: จัดสรรแรงงานให้งานย่อยตามทักษะและระดับการประเมิน (assign_workers)
│   │   ├── pipeline.py: จุดเริ่มต้นหลักที่รันกระบวนการทั้งหมด (โหลดข้อมูล, จับคู่ทักษะ, มอบหมายงาน, บันทึกผลลัพธ์)
│   │   ├── readme.md: เอกสารอธิบายส่วน manday_calculation
│   │   ├── skill_matching.py: จัดการการจับคู่ทักษะของแรงงานกับงาน
│   │   ├── standard_matching.py: จับคู่งานกับมาตรฐานการทำงาน
│   │   ├── test.py: ไฟล์สำหรับทดสอบ (ถ้ามีการใช้งาน)
│   │   └── utils.py: ฟังก์ชันสาธารณูปโภค เช่น normalize_text, best_string_match, และการกำหนดค่า Gemini AI
│   ├── pf_calculation/: แพ็คเกจสำหรับการคำนวณข้อมูลอื่น ๆ (เช่น Provident Fund)
│   └── skill_matching/: แพ็คเกจสำหรับการจับคู่ทักษะเพิ่มเติม
├── db/
│   ├── __init__.py: กำหนดแพ็คเกจสำหรับการเชื่อมต่อฐานข้อมูล
│   ├── __pycache__: เก็บไฟล์ไบนารี
│   └── connection.py: จัดการการเชื่อมต่อฐานข้อมูล (psycopg2 และ SQLAlchemy)
├── assigned_workers.csv: ผลลัพธ์การมอบหมายงาน
├── matched_skills.csv: ผลลัพธ์การจับคู่ทักษะ
├── matched_standards.csv: ผลลัพธ์การจับคู่งานกับมาตรฐาน
├── tests/: โฟลเดอร์สำหรับเก็บโค้ดทดสอบ
└── ui/: โฟลเดอร์สำหรับส่วนติดต่อผู้ใช้ (UI)

pip install -r requirements.txt


### คำอธิบายการเพิ่มเติม
1. **โครงสร้างไฟล์**:
   - ปรับให้แสดงระดับ `core` และรวมโฟลเดอร์อื่น ๆ (เช่น `db`, `tests`, `ui`) เพื่อให้เห็นภาพรวมโปรเจกต์
   - เพิ่ม `test.py` และอธิบายว่าเป็นส่วนทดสอบ (แม้ยังไม่ระบุการใช้งานชัดเจน)

2. **ข้อกำหนด**:
   - เพิ่มส่วน dependencies และ `.env` เพื่อช่วยผู้ใช้ตั้งค่า
   - ระบุ Python 3.12+ ตามที่คุณใช้ใน environment

3. **การรัน**:
   - เพิ่มขั้นตอน `cd` และ `source .venv/bin/activate` เพื่อให้ชัดเจน
   - อธิบายผลลัพธ์ที่คาดหวัง

4. **การพัฒนา**:
   - เปิดโอกาสให้ขยายโปรเจกต์และใช้ `db/connection.py` เป็นจุดศูนย์กลาง

### คำแนะนำเพิ่มเติม
- **ภาพประกอบ**: ถ้ามีเวลา สามารถเพิ่ม diagram ของ workflow (เช่น กระบวนการจับคู่ทักษะ) เพื่อให้เข้าใจง่ายขึ้น
- **เวอร์ชัน**: ถ้ามีการอัปเดตในอนาคต อาจเพิ่มส่วน "Changelog"
- **ลิขสิทธิ์**: ถ้าต้องการ อาจเพิ่มส่วน "License"

ลองปรับ `readme.md` ตามนี้ได้เลยครับ ถ้ามีอะไรอยากเพิ่มหรือแก้ไข แจ้งมาได้ตลอด!